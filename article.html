<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Article</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0b0f1a;
      --panel: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.12);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #7dd3fc;
    }

    * { box-sizing: border-box; }

    body {
      font-family: Inter, sans-serif;
      background: radial-gradient(circle at top, #111827, var(--bg));
      color: var(--text);
      padding: 40px 20px;
      margin: 0;
    }

    .container {
      max-width: 900px;
      margin: auto;
    }

    /* Fixed buttons */
    .back-fixed,
    .home-fixed {
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 100;
      background: rgba(0,0,0,0.55);
      border: 1px solid var(--border);
      backdrop-filter: blur(10px);
      padding: 10px 14px;
      border-radius: 12px;
      color: var(--accent);
      text-decoration: none;
      font-size: 0.9rem;
      display: none;
    }

    .home-fixed {
      color: #a7f3d0;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 8px;
    }

    .meta {
      color: var(--muted);
      font-size: 0.9rem;
      margin-bottom: 22px;
    }

    .card {
      background: linear-gradient(
        180deg,
        rgba(255,255,255,0.08),
        rgba(255,255,255,0.02)
      );
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 28px;
      backdrop-filter: blur(10px);
      animation: fadeUp 0.5s ease;
    }

    img {
      width: 100%;
      border-radius: 16px;
      margin-bottom: 26px;
      display: none;
    }

    p {
      line-height: 1.75;
      margin-bottom: 18px;
    }

    /* Article selection grid */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .article-card {
      text-decoration: none;
      color: var(--text);
      background: linear-gradient(
        180deg,
        rgba(255,255,255,0.08),
        rgba(255,255,255,0.02)
      );
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 20px;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .article-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 40px rgba(0,0,0,0.4);
    }

    .article-card h3 {
      margin-bottom: 6px;
      font-size: 1.1rem;
    }

    .article-card span {
      font-size: 0.85rem;
      color: var(--muted);
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(14px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<!-- Buttons -->
<a href="article.html" class="back-fixed" id="backBtn">← Back to selection</a>
<a href="home.html" class="home-fixed" id="homeBtn">← Home</a>

<div class="container" id="container"></div>

<script>
  const params = new URLSearchParams(window.location.search);
  const articleId = params.get("id");
  const container = document.getElementById("container");
  const backBtn = document.getElementById("backBtn");
  const homeBtn = document.getElementById("homeBtn");

  fetch("data/news.json")
    .then(res => res.json())
    .then(news => {

      /* ======================
         ARTICLE SELECTION VIEW
         ====================== */
      if (!articleId) {
        homeBtn.style.display = "inline-block";

        const grid = document.createElement("div");
        grid.className = "grid";

        news.forEach(article => {
          const a = document.createElement("a");
          a.className = "article-card";
          a.href = `article.html?id=${article.id}`;
          a.innerHTML = `
            <h3>${article.title}</h3>
            <span>${article.date} • ${article.author}</span>
          `;
          grid.appendChild(a);
        });

        container.appendChild(grid);
        return;
      }

      /* ======================
         ARTICLE VIEW
         ====================== */
      const article = news.find(a => a.id === articleId);

      if (!article) {
        container.innerHTML = "<h1>Article not found</h1>";
        return;
      }

      backBtn.style.display = "inline-block";

      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <h1>${article.title}</h1>
        <div class="meta">${article.date} • ${article.author}</div>
        <img id="article-image" alt="Article image">
        <div id="content"></div>
      `;

      container.appendChild(card);

      const img = document.getElementById("article-image");
      if (article.image && article.image !== "none") {
        img.src = article.image;
        img.style.display = "block";
      }

      const content = document.getElementById("content");
      article.content.forEach(text => {
        const p = document.createElement("p");
        p.textContent = text;
        content.appendChild(p);
      });
    })
    .catch(() => {
      container.innerHTML = "<h1>Failed to load articles</h1>";
    });
</script>

</body>
</html>
